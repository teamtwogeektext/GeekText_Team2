{% extends 'base.html' %}
{% block content %}

<script type="text/javascript">
$('#body-row .collapse').collapse('hide');

$('#collapse-icon').addClass('fa-angle-double-left');

$('[data-toggle=sidebar-colapse]').click(function() {
    SidebarCollapse();
});

function SidebarCollapse () {
    $('.menu-collapsed').toggleClass('d-none');
    $('.sidebar-submenu').toggleClass('d-none');
    $('.submenu-icon').toggleClass('d-none');
    $('#sidebar-container').toggleClass('sidebar-expanded sidebar-collapsed');

    // Treating d-flex/d-none on separators with title
    var SeparatorTitle = $('.sidebar-separator-title');
    if ( SeparatorTitle.hasClass('d-flex') ) {
        SeparatorTitle.removeClass('d-flex');
    } else {
        SeparatorTitle.addClass('d-flex');
    }

    $('#collapse-icon').toggleClass('fa-angle-double-left fa-angle-double-right');
}
</script>

<style>
#prof_img {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.parallax {
  /* The image used */
  background-image: url("static/images/prof_background.jpg");

  /* Set a specific height */
  min-height: 500px;

  /* Create the parallax scrolling effect */
  background-attachment: fixed;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
}
#prof_col {
  position: absolute;
  width: 1200px;
  left: 500px;
  top: 130px;
}
</style>

<link rel="stylesheet" type="text/css" href="static/css/account-style.css">
<div class="parallax">
  <div class="row" id="body-row">
      <!-- Sidebar -->
      <div id="sidebar-container" class="sidebar-expanded nav-light bg-dark d-none d-md-block col-2">
          <!-- d-* hiddens the Sidebar in smaller devices. Its itens can be kept on the Navbar 'Menu' -->
          <!-- Bootstrap List Group -->
          <ul class="list-group sticky-top sticky-offset">
              <!-- Separator with title -->
              <li class="list-group-item sidebar-separator-title text-muted d-flex align-items-center menu-collapsed">
                  <small>USER</small>
              </li>
              <!-- /END Separator -->
              <!-- Menu with submenu -->
              <a href="#" class="bg-dark list-group-item list-group-item-action">
                  <div class="d-flex w-100 justify-content-start align-items-center">
                    <span class="fa fa-user fa-fw mr-3"></span>
                      <span class="menu-collapsed">{{current_user.username}}</span>
                  </div>
              </a>
              <!-- Separator with title -->
              <li class="list-group-item sidebar-separator-title text-muted d-flex align-items-center menu-collapsed">
                  <small>PROFILE</small>
              </li>

              <a href="{{url_for('users.account')}}" class="bg-dark list-group-item list-group-item-action">
                  <div class="d-flex w-100 justify-content-start align-items-center">
                    <span class="fa fa-user fa-fw mr-3"></span>
                      <span class="menu-collapsed">Profile</span>
                  </div>
              </a>
              <!-- Submenu content -->
              <a href="#" class="bg-dark list-group-item list-group-item-action">
                  <div class="d-flex w-100 justify-content-start align-items-center">
                    <span class="fa fa-list fa-fw mr-3"></span>
                      <span class="menu-collapsed">Wishlist</span>
                  </div>
              </a>
              <!-- /END Separator -->
              <a href="#" class="bg-dark list-group-item list-group-item-action">
                  <div class="d-flex w-100 justify-content-start align-items-center">
                    <span class="fa fa-shopping-cart fa-fw mr-3"></span>
                      <span class="menu-collapsed">Shopping Cart <span class="badge badge-pill badge-primary ml-2">5</span></span>
                  </div>
              </a>
              <a href="{{url_for('users.shipping_info')}}" class="bg-dark list-group-item list-group-item-action">
                  <div class="d-flex w-100 justify-content-start align-items-center">
                    <span class="fa fa-truck fa-fw mr-3"></span>
                      <span class="menu-collapsed">Shipping Info</span>
                  </div>
              </a>
              <a href="#" class="bg-dark list-group-item list-group-item-action">
                  <div class="d-flex w-100 justify-content-start align-items-center">
                    <span class="fa fa-credit-card fa-fw mr-3"></span>
                      <span class="menu-collapsed">Payment Info</span>
                  </div>
              </a>
              <a href="#" class="bg-dark list-group-item list-group-item-action">
                  <div class="d-flex w-100 justify-content-start align-items-center">
                    <span class="fa fa-thumbs-up fa-fw mr-3"></span>
                      <span class="menu-collapsed">Reviews</span>
                  </div>
              </a>
              <a href="#" class="bg-dark list-group-item list-group-item-action">
                  <div class="d-flex w-100 justify-content-start align-items-center">
                    <span class="fa fa-star fa-fw mr-3"></span>
                      <span class="menu-collapsed">Favorites</span>
                  </div>
              </a>
              <!-- Separator without title -->
              <li class="list-group-item sidebar-separator menu-collapsed"></li>
              <!-- /END Separator -->
              <a href="#" class="bg-dark list-group-item list-group-item-action">
                  <div class="d-flex w-100 justify-content-start align-items-center">
                      <span class="fa fa-question fa-fw mr-3"></span>
                      <span class="menu-collapsed">Help</span>
                  </div>
              </a>
              <a href="#" data-toggle="sidebar-colapse" class="bg-dark list-group-item list-group-item-action d-flex align-items-center">
                  <div class="d-flex w-100 justify-content-start align-items-center">
                      <span id="collapse-icon" class="fa fa-2x mr-3"></span>
                      <span id="collapse-text" class="menu-collapsed">Collapse</span>
                  </div>
              </a>
              <!-- Logo -->
              <li class="list-group-item logo-separator d-flex justify-content-center">
                  <img src="static/images/logo.png" width="30" height="30">
              </li>
          </ul>
          <!-- List Group END-->
      </div>
  <!-- Bootstrap row -->

      <!-- sidebar-container END -->
  <div id="prof_col" class="col-md-9">
      <div class="card" style="background-color: #E8E8E8; border-width: thick; border-color: #1cb9a4">
          <div class="card-body">
              <div class="row">
                  <div class="col-md-12">
                      <h4 align="center">{{current_user.username}}'s Profile</h4>
                      <img id="prof_img" src="{{ url_for('static', filename='profile_pics/' + current_user.profile_image) }}" alt="" class="rounded-circle" width=150, height=200 class="center">
                      {% for message in get_flashed_messages() %}
                        <div class="alert alert-warning">
                          <button type="button" class="close" data-dismiss="alert">&times;</button>
                            {{ message }}
                        </div>
                      {% endfor %}

                  </div>
              </div>
              <hr>
              <div class="row">
                  <div class="col-md-12">
                      <form method="POST" action="" enctype="multipart/form-data">
                          {{ form.hidden_tag() }}
                            <div class="form-group row">
                              <label for="username" class="col-4 col-form-label">User Name*</label>
                              <div class="col-8">
                                {{ form.username(class="form-control here", required="required", type="text" ,placeholder="{{current_user.username}}") }}
                                <!--<input id="username" name="username" placeholder="{{current_user.username}}" class="form-control here" required="required" type="text">-->
                              </div>
                            </div>
                            <div class="form-group row">
                              <label for="first_name" class="col-4 col-form-label">First Name*</label>
                              <div class="col-8">
                                {{form.first_name(class="form-control here", required="required", type="text" ,placeholder="{{current_user.first_name}}")}}

                              </div>
                            </div>
                            <div class="form-group row">
                              <label for="last-name" class="col-4 col-form-label">Last Name*</label>
                              <div class="col-8">
                                {{form.last_name(class="form-control here", required="required", type="text" ,placeholder="{{current_user.last_name}}")}}

                              </div>
                            </div>
                            <div class="form-group row">
                              <label for="email" class="col-4 col-form-label">Email*</label>
                              <div class="col-8">
                                {{ form.email(class='form-control here', required="required",type="text", placeholder="{{current_user.email}}") }}
                                <!--<input id="email" name="email" placeholder="Email" class="form-control here" required="required" type="text">-->
                              </div>
                            </div>
                            <div class="form-group row">
                              <label for="publicinfo" class="col-4 col-form-label">Public Info</label>
                              <div class="col-8">
                                <textarea id="publicinfo" name="publicinfo" cols="40" rows="4" class="form-control"></textarea>
                              </div>
                            </div>
                            <div class="form-group row">
                              <label for="newpass" class="col-4 col-form-label">New Password</label>
                              <div class="col-8">
                                <input id="newpass" name="newpass" placeholder="New Password" class="form-control here" type="text">
                              </div>
                            </div>
                            <div class="form-group row">
                              <label for="newpass" class="col-4 col-form-label">Profile Picture</label>
                              <div class="col-8">
                                {{ form.picture(class='form-control-file') }}
                              </div>
                            </div>
                            <div class="form-group row">
                              <div class="offset-4 col-8">
                                {{ form.submit(class="btn btn-primary", type="submit") }}
                                <!--<button name="submit" type="submit" class="btn btn-primary">Update My Profile</button>-->
                              </div>
                            </div>
                          </form>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>

</div>


{% endblock %}
